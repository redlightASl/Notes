## OS定义
操作系统：管理计算机系统资源（包括硬件资源和软件资源），合理组织计算机工作流程，方便用户使用计算机程序模块的集合（系统软件）

用户实际操作的是虚拟机，物理机由OS
控制和操作
优点：将复杂的物理操作剥离并下移，交给OS去处理

作用：管理计算机的软硬件资源、提供人机接口、扩展计算机功能
**最主要职责**：为运行软件提供环境

特征：并发性、共享性、虚拟性

## OS分类
1.按功能分类
**批处理系统**
用户脱机使用、成批处理作业、多程序运行
缺点：不具有交互性
**分时操作系统**
多路性、独占性、及时性、交互性
 unix-like、windows等常见操作系统都是分时操作系统
**RTOS实时操作系统**
实时性（响应时间确定、可控）、可靠性
主要应用在有实时要求的领域
freertos、ucos等片上操作系统都是RTOS
**DOS分布式操作系统**
功能和任务的分布性（集合资源，以低成本获得高性能）、高可靠性（单一CPU故障不影响整个系统工作）
主要应用在分布式计算领域
**网络操作系统**
调度网络服务
主要性能：具有网络管理模块、保证网络安全等
在分式操作系统上搭载网络部分
Netware、unix-like、windows-server等都可以作为网络操作系统
**嵌入式操作系统**
微内核技术，内核足够，要求资源少
适用于二次开发
超强工作能力、高可靠性设计
适应恶劣的工作环境

适合各种专门用途
以ucos等rtos常见
##典型操作系统
### DOS
单用户单任务操作系统
###windows
多任务、图形界面、主流
### linux
GNU协议开源操作系统
多用户、多任务、开放性好、稳定性强、安全可靠、发行版多、硬件需求低
### unix
多用户、多任务、可移植、规模小、效率高
### OS/2
为IBM的PS/2设计的操作系统
###macOS
具有较好的图形处理能力
### 手机操作系统
Android、iOS
安卓以linux为内核，源代码开放

## OS基本功能
处理机管理
分配CPU线程和进程
#### 进程：处理机资源分配和调度的基本单位
进程是一个正在执行的程序，是一个可并发执行的程序与其数据的一次运行活动
进程包括程序、数据、进程控制块

程序加载入内存后称为进程，进程有待CPU执行，程序保存在硬盘上
进程具有并发性，程序不行

进程状态与变化：就绪（等待运行）、运行（正在运行）、阻塞（等待某条件时进程无法执行而被挂起）、

临界资源：一次只允许一个进程使用的资源
进程同步（相互依赖）：两进程之间协调进度完成作业
进程互斥（相互制约）：对于一组临界资源，两进程不能同时使用，在一个进程执行时，另一个进程进入阻塞态

#### 线程：程序一次执行过程和资源分配的基本单位
一个进程可分为多个线程，一个进程至少有1个线程
CPU分时复用切换的是线程而不是进程
进程是线程与相关系统资源“打包”后形成的

同一时间CPU只处理单一程序，但通过线程调度使宏观上用户感觉CPU在并行处理程序

##### 存储管理
功能：
1.内存分配与回收
2.地址变换
3.存储保护（设置数据访问权限）
4.存储扩充
	虚拟内存（在windows中称为页面文件，作为独立文件存在）
	（unix-like下称为交换空间，直接在硬盘中存储数据）
n位系统最多允许2^n容量的虚拟内存

##### 文件管理
依靠文件系统（filesystem）
文件：存放在计算机存储设备中具有符号明的一组相关信息的有序集合

windows使用NTFS，linux使用ext4
FAT32较老，只支持单文件4g

windows下文件名包括主文件名和扩展名
linux下没有文件名要求

通配符
*代表任意位任意字符，？代表一位任意字符

文件属性
一般属性：大小、占用空间、建立与修改的日期、所有者信息
重要属性：只读、隐藏、存档、系统

文件目录
windows下，每个逻辑盘有且只有一个根目录，可创建多级文件夹目录，之间用\分隔

形成树状结构
相对路径
从当前目录开始到目标目录的路径
绝对路径
从根目录开始到目标目录的路径

文件系统
负责管理和存取硬盘上的文件信息

硬盘分区
目的：便于管理文件、安装不同OS
分区管理：安装时、分区管理器
格式化是在磁盘上划分磁道和扇区的过程，格式化同时系统会分配文件系统、抹去所有数据（在未写入新数据的情况下可能恢复）

磁盘信息组织
簇：多个相邻的扇区

NTFS建立MFT，FAT32建立FAT对文件进行管理

macOS系统无法在NTFS文件系统中删除文件，只能进行读写

##### 设备管理
独占设备：在同一时间只允许一个用户访问的设备
共享设备：允许多用户同时访问的设备
虚拟设备：采用虚拟化技术将独占设备改造成共享设备。通常使用假脱机技术实现虚拟设备